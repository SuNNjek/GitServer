@using GitServer.Services
@using LibGit2Sharp
@using System.IO
@inject GitRepositoryService repoService

<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>@ViewData["Title"]</title>
	<link rel="stylesheet" type="text/css" href="@Url.Content("~/css/main.min.css")" />
	<link rel="shortcut icon" href="/img/favicon.ico" />
</head>
<body>
	<nav class="navbar">
		<table>
			<tr>
				<td>
					<a href="@Url.RouteUrl("Home")">
						<img src="/img/logo_white.svg" alt="Logo" style="height: 40px; width: 40px; padding-left: 10px;" />
					</a>
				</td>
				<td>
					<ul>
						@foreach (DirectoryInfo repo in repoService.RepositoryDirectories.OrderBy(d => d.Name).Take(10))
						{
							<a class="navbar-item" href="@Url.RouteUrl("GetFileView", new { repoName = repo.Name, filePath = String.Empty })">
								<li>@repo.Name</li>
							</a>
						}
					</ul>
				</td>
			</tr>
		</table>
	</nav>
	<div class="content">
		@RenderBody()
	</div>
</body>
</html>
